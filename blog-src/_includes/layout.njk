<!doctype html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-S5V165BNBG"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-S5V165BNBG');
  </script>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  
  <!-- SEO Meta Tags -->
  <title>{% if title %}{{ title }} | {% endif %}Ian Matson{% if not title %} | Blog{% endif %}</title>
  <meta name="description" content="{{ description or 'Software engineering insights, tutorials, and thoughts by Ian Matson. Explore full-stack development, AI, and creative problem solving.' }}">
  <meta name="keywords" content="Ian,Matson,developer,software,blog,{% if tags %}{{ tags | join(',') }},{% endif %}engineering,tutorials">
  <meta name="author" content="Ian Matson">
  {% if title and date %}<meta name="article:published_time" content="{{ date | dateISO }}">{% endif %}
  {% if title and date %}<meta name="article:modified_time" content="{{ date | dateISO }}">{% endif %}
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://ian-matson.com{{ page.url }}">
  
  <!-- Open Graph -->
  <meta property="og:title" content="{% if title %}{{ title }} | Ian Matson{% else %}Ian Matson | Blog{% endif %}" />
  <meta property="og:description" content="{{ description or 'Software engineering insights, tutorials, and thoughts by Ian Matson.' }}">
  <meta property="og:type" content="{% if title %}article{% else %}website{% endif %}" />
  <meta property="og:url" content="https://ian-matson.com{{ page.url }}" />
  {% if image %}
  <meta property="og:image" content="https://ian-matson.com{{ image }}" />
  <meta property="og:image:alt" content="{{ imageCaption or title or 'Article image' }}" />
  <meta property="og:image:type" content="image/jpeg" />
  {% else %}
  <meta property="og:image" content="https://ian-matson.com/assets/ShareImage.png" />
  <meta property="og:image:alt" content="Ian Matson - Software Engineer" />
  <meta property="og:image:type" content="image/png" />
  {% endif %}
  {% if date %}<meta property="article:published_time" content="{{ date | dateISO }}" />{% endif %}
  {% if tags %}<meta property="article:tag" content="{{ tags | join(', ') }}" />{% endif %}
  {% if title %}<meta property="article:author" content="Ian Matson" />{% endif %}
  
  <!-- Twitter -->
  <meta name="twitter:title" content="{% if title %}{{ title }} | Ian Matson{% else %}Ian Matson | Blog{% endif %}" />
  <meta name="twitter:description" content="{{ description or 'Software engineering insights and tutorials.' }}">
  {% if image %}
  <meta name="twitter:image" content="https://ian-matson.com{{ image }}" />
  <meta name="twitter:image:alt" content="{{ imageCaption or title or 'Article image' }}" />
  {% else %}
  <meta name="twitter:image" content="https://ian-matson.com/assets/ShareImage.png" />
  <meta name="twitter:image:alt" content="Ian Matson - Software Engineer" />
  {% endif %}
  <meta name="twitter:card" content="summary_large_image">
  
  <!-- Icons & Fonts -->
  <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/imatson9119/personal-website/refs/heads/main/favicon.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=arrow_forward_ios" />
  
  <!-- RSS Feed -->
  <link rel="alternate" type="application/rss+xml" title="Ian Matson Blog RSS Feed" href="/blog/feed.xml">
  
  <!-- JSON-LD Structured Data -->
  {% if title and date %}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "{{ title }}",
    "description": "{{ description or 'Software engineering insights and tutorials by Ian Matson.' }}",
    "author": {
      "@type": "Person",
      "name": "Ian Matson",
      "url": "https://ian-matson.com",
      "sameAs": [
        "https://github.com/imatson9119",
        "https://www.linkedin.com/in/ian-matson/"
      ],
      "jobTitle": "Software Engineer",
      "knowsAbout": [
        "Software Development",
        "Full Stack Development",
        "Artificial Intelligence",
        "Machine Learning"
      ]
    },
    "publisher": {
      "@type": "Person",
      "name": "Ian Matson",
      "url": "https://ian-matson.com"
    },
    "datePublished": "{{ date | dateISO }}",
    "dateModified": "{{ date | dateISO }}",
    "url": "https://ian-matson.com{{ page.url }}",
    "inLanguage": "en-US",
    "isAccessibleForFree": true,
    "articleSection": "{% if tags %}{{ tags[0] | capitalize }}{% else %}Technology{% endif %}"{% if image %},
    "image": {
      "@type": "ImageObject",
      "url": "https://ian-matson.com{{ image }}",
      "width": 1200,
      "height": 630
    }{% endif %},
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://ian-matson.com{{ page.url }}"
    }{% if tags %},
    "keywords": [{% for tag in tags %}"{{ tag }}"{% if not loop.last %}, {% endif %}{% endfor %}],
    "about": [{% for tag in tags %}{
      "@type": "Thing",
      "name": "{{ tag | capitalize }}"
    }{% if not loop.last %}, {% endif %}{% endfor %}]{% endif %}
  }
  </script>
  {% else %}
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Blog",
    "name": "Ian Matson | Blog",
    "description": "Software engineering insights, tutorials, and thoughts by Ian Matson. Explore full-stack development, AI, and creative problem solving.",
    "url": "https://ian-matson.com/blog",
    "inLanguage": "en-US",
    "author": {
      "@type": "Person",
      "name": "Ian Matson",
      "url": "https://ian-matson.com",
      "sameAs": [
        "https://github.com/imatson9119",
        "https://www.linkedin.com/in/ian-matson/"
      ],
      "jobTitle": "Software Engineer",
      "knowsAbout": [
        "Software Development",
        "Full Stack Development",
        "Artificial Intelligence",
        "Machine Learning"
      ]
    },
    "publisher": {
      "@type": "Person",
      "name": "Ian Matson",
      "url": "https://ian-matson.com"
    },
    "potentialAction": {
      "@type": "ReadAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": "https://ian-matson.com/blog/"
      }
    }
  }
  </script>
  {% endif %}
  
  <!-- Blog-specific styles -->
  <style>
    :root {
      --bg: #ffffff;
      --card: #ffffff;
      --text: #0f172a;
      --muted: #6b7280;
      --accent: #2563eb;
      --accent-visited: #7c3aed;
      --border: #e5e7eb;
      --tag-bg: #f3f4f6;
      --tag-text: #374151;
      --code-bg: #f6f8fa;
      --code-text: #0b1220;
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
      background-color: var(--bg);
      color: var(--text);
      line-height: 1.75;
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
    }

    /* Layout */
    .blog-container {
      max-width: 72ch;
      margin: 0 auto;
      padding: 0rem 1.25rem 4rem;
    }

    .blog-header {
      text-align: center;
      margin-bottom: 2.5rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid var(--border);
    }

    .blog-title {
      font-size: clamp(1rem, 0.75rem + 1.8vw, 1.5rem);
      font-weight: 400;
      margin: 0;
      letter-spacing: -0.01em;
    }

    .blog-subtitle {
      font-size: 1rem;
      color: var(--muted);
      margin: 0.75rem 0 0 0;
    }

    .blog-nav {
      margin: 1.25rem 0 0;
      text-align: center;
    }

    .blog-nav a {
      color: var(--accent);
      text-decoration: none;
      margin: 0 0.75rem;
      font-weight: 500;
    }

    .blog-nav a:hover {
      text-decoration: underline;
      text-underline-offset: 3px;
    }

    .blog-content {
      margin: 2rem 0;
    }

    /* Links */
    a, a:link, a:visited { color: var(--accent); }
    a {
      text-decoration: underline;
      text-underline-offset: 2px;
      text-decoration-thickness: 1px;
    }
    a:hover { text-decoration-thickness: 2px; }
    a:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; border-radius: 4px; }

    /* Typography rhythm */
    .blog-content h1, .blog-content h2, .blog-content h3,
    .blog-content h4, .blog-content h5, .blog-content h6 {
      line-height: 1.25;
      letter-spacing: -0.01em;
      margin: 2rem 0 0.75rem 0;
    }
    .blog-content h1 { font-size: clamp(1.8rem, 1.2rem + 2.2vw, 2.4rem); }
    .blog-content h2 { font-size: clamp(1.5rem, 1rem + 1.8vw, 2rem); }
    .blog-content h3 { font-size: clamp(1.25rem, 0.9rem + 1.2vw, 1.5rem); }
    .blog-content h4 { font-size: 1.125rem; }
    .blog-content h5 { font-size: 1rem; }
    .blog-content h6 { font-size: 0.95rem; color: var(--muted); }

    .blog-content p { margin: 1rem 0; }
    .blog-content ul, .blog-content ol { margin: 1rem 0 1rem 1.25rem; }
    .blog-content li { margin: 0.25rem 0; }
    hr { border: 0; border-top: 1px solid var(--border); margin: 2rem 0; }

    /* Meta and titles */
    .post-meta {
      color: var(--muted);
      font-size: 0.95rem;
      margin-bottom: 1rem;
    }
    .post-title { margin: 1rem 0; }
    .post-description { font-style: italic; color: var(--muted); margin-top: 1rem; }
    .post-body { margin: 2rem 0; }

    /* Lists of posts */
    .post-list { list-style: none; padding: 0; margin: 0; }
    .post-item { 
      margin: 0 0 1.75rem 0; 
      padding-top: 1.75rem; 
      display: flex;
      gap: 1.5rem;
      align-items: flex-start;
    }
    .post-item + .post-item { border-top: 1px solid var(--border); }
    
    .post-item-image img{
      max-height: 180px;
      height: 180px;
      width: 180px;
      max-width: auto;
    }

    
    .post-item-content {
      flex: 1;
      min-width: 0;
    }
    
    /* Handle posts without images - hide empty image container */
    .post-item-image:empty {
      display: none;
    }
    
    .post-item h2 { margin: 0 0 0.5rem 0; }
    .post-item h2 a { color: var(--text); text-decoration: none; }
    
    .post-item h2 a:hover { text-decoration: underline; text-underline-offset: 3px; }

    /* Pagination */
    .pagination { text-align: center; margin: 3rem 0; }
    .pagination a, .pagination span {
      display: inline-block;
      padding: 0.5rem 0.9rem;
      margin: 0 0.2rem;
      text-decoration: none;
      border: 1px solid var(--border);
      border-radius: 8px;
    }
    .pagination .current { background: var(--accent); color: #fff; border-color: var(--accent); }
    .pagination a:hover { background: rgba(37, 99, 235, 0.08); }

    /* Tags */
    .tags { margin: 1rem 0; }
    .tag {
      display: inline-block;
      background: var(--tag-bg);
      color: var(--tag-text);
      padding: 0.2rem 0.6rem;
      margin: 0.2rem 0.35rem 0.2rem 0;
      border-radius: 9999px;
      font-size: 0.8rem;
      text-decoration: none;
      border: 1px solid var(--border);
    }
    .tag:hover { filter: brightness(0.98); }

    /* Post navigation */
    .post-navigation {
      display: flex;
      justify-content: space-between;
      gap: 1rem;
      margin: 3rem 0 2rem 0;
      padding-top: 2rem;
      border-top: 1px solid var(--border);
    }

    /* Media */
    .post-splash-image { margin: 0 0 1.5rem 0; text-align: center; display: flex; flex-direction: column; align-items: center; }
    .post-splash-image img { max-width: 100%; max-height: 300px; border-radius: 10px; }
    .image-caption { font-size: 0.9rem; color: var(--muted); font-style: italic; margin: 0.5rem 0 0 0; }

    .post-preview-image { margin: 0; }
    .post-preview-image img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 10px;
      transition: transform 0.2s ease;
      aspect-ratio: 1 / 1;
    }
    .post-preview-image a:hover img { transform: scale(1.01); }

    /* Ensure Lit components have space */
    app-navbar, app-footer { display: block; }

    /* Content elements */
    .blog-content blockquote {
      margin: 1.25rem 0;
      padding: 0.75rem 1rem;
      border-left: 3px solid var(--accent);
      background: linear-gradient(to right, rgba(37, 99, 235, 0.06), transparent);
      color: var(--text);
    }
    .blog-content code {
      background: var(--code-bg);
      color: var(--code-text);
      padding: 0.15em 0.35em;
      border-radius: 6px;
      border: 1px solid var(--border);
      font-family: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.92em;
    }
    .blog-content pre {
      background: var(--code-bg);
      color: var(--code-text);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 1rem;
      overflow: auto;
      -webkit-overflow-scrolling: touch;
    }
    .blog-content pre code {
      background: transparent;
      border: 0;
      padding: 0;
      font-size: 0.9em;
      line-height: 1.6;
      display: block;
    }
    .blog-content table { width: 100%; border-collapse: collapse; margin: 1.25rem 0; }
    .blog-content th, .blog-content td { border: 1px solid var(--border); padding: 0.5rem 0.75rem; text-align: left; }
    .blog-content thead th { background: var(--tag-bg); }
    .blog-content img { display: block; max-width: 100%; height: auto; border-radius: 10px; margin: 1.5rem auto; }


     /* Back to portfolio button */
     .back-to-portfolio {
       padding-top: 1rem;
     }
     
     .back-to-portfolio a {
       display: inline-flex;
       align-items: center;
       gap: 0.5rem;
       color: var(--muted);
       text-decoration: none;
       font-size: 0.9rem;
       padding: 0.5rem 0.75rem;
       border-radius: 6px;
       transition: all 0.2s ease;
       border: 1px solid transparent;
     }
     
     .back-to-portfolio a:hover {
       color: var(--accent);
       background: rgba(37, 99, 235, 0.05);
       border-color: rgba(37, 99, 235, 0.2);
       text-decoration: none;
       transform: translateX(-2px);
     }
     
     .back-to-portfolio a::before {
       content: '←';
       font-weight: bold;
     }

     
     @media (max-width: 640px) {
       .blog-container { padding: 0rem 1rem 3rem; }
       .blog-nav a { margin: 0 0.5rem; }
       .back-to-portfolio { margin-bottom: 1rem; padding-top: 0.5rem; }
       
       /* Stack image on top for mobile */
       .post-item {
         flex-direction: column;
         gap: 1rem;
       }
       
       .post-item-image {
         flex: none;
         align-self: center;
       }
       
       .post-preview-image img {
         max-width: auto;
         max-height: 180px;
       }
     }
  </style>
  
  <!-- Load Lit components -->
  <script type="module" src="/src/index.js"></script>
</head>

<body>
  <!-- Lit navbar component -->
  <app-navbar></app-navbar>
  
  <div class="blog-container">
    <div class="back-to-portfolio">
      <a href="/">Back to Portfolio</a>
    </div>
    
    <div class="blog-header">
      <h1 class="blog-title">
        <a href="/blog" style="color: inherit; text-decoration: none;">Ian Matson</a>
      </h1>
      <p class="blog-subtitle">Thoughts on software engineering, AI, and creative problem solving</p>
      
      <nav class="blog-nav">
        <a href="/blog">All Posts</a>
        <a href="/blog/tags">Tags</a>
        <a href="/blog/feed.xml">RSS</a>
      </nav>
    </div>
    
    <main class="blog-content">
      {{ content | safe }}
    </main>
  </div>
  
  <!-- Lit footer component -->
  <app-footer></app-footer>
</body>
</html>

